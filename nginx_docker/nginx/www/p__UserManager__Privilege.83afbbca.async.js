(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[55],{LETr:function(e,i,a){"use strict";a.r(i);a("j+Ep");var t,n,l,r=a("/Dxd"),s=(a("rTtu"),a("jksg")),o=a("mK77"),d=a.n(o),m=a("43Yg"),c=a.n(m),p=a("/tCh"),u=a.n(p),g=a("scpF"),v=a.n(g),h=a("O/V9"),f=a.n(h),y=a("8aBX"),b=a.n(y),j=a("uqIC"),O=a.n(j),M=a("LneV"),R=a("QHZv"),_=a("Oia7"),S=a("sxfj"),w=a("zHco"),C=a("MMK4"),D=a("dxvr"),I=a("SfOC"),k=(t=Object(M["connect"])(function(e){var i=e.uniComp,a=e.loading;return{uniComp:i,loading:a.models.uniComp}}),t((l=function(e){function i(){var e,a;c()(this,i);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return a=v()(this,(e=f()(i)).call.apply(e,[this].concat(n))),a.state={selectedRow:void 0,modalVisible:!1,columnSchemas:{}},a.handleRole=function(){var e=a.state.selectedRow;e&&a.setState({modalVisible:!0})},a.handleConversionData=function(e){var i=[],a=e.map(function(e){if(e.sysPrivilegeRoles){var i=e.sysPrivilegeRoles.map(function(e){return e.roleName}),a=i.join(",");return d()({},e,{roleStr:a})}return e});return a.length>50?(Object(I["e"])(a,i,0),i):a},a.handleVisible=function(e){a.setState({modalVisible:e})},a.handleRefreshData=function(){a.child.handleSearchDefault()},a.handleRef=function(e){a.child=e},a}return b()(i,e),u()(i,[{key:"componentWillMount",value:function(){var e=Object(C["d"])("common","status"),i=Object(C["d"])("privilege","icon");i.push({javaCode:"privilege",javaKey:"icon",itemCode:"",itemValue:"None Icon"});var a=Object(C["d"])("privilege","type"),t=Object(C["d"])("privilege","hide_children_in_menu"),n=Object(C["d"])("privilege","hide_in_menu"),l={tableName:"sys_privilege",key:"privilegeId",name:"name",commands:[{action:"setRole",title:"\u89d2\u8272"}],columnDetails:[{name:"privilegeId",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.privilegeId"}),add:!0,disabledAct:"true",width:110},{name:"name",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.name"}),query:!0,add:!0,detailFlag:1,showIcon:"icon",formatMessagePrivilege:!0},{name:"path",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.path"}),query:!0,add:!0,showLen:22},{name:"parentPrivilegeId",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.parentPrivilegeId"}),add:!0,tag:"privilegeTreeSelect",detail:!1,columnHidden:!0,rules:[]},{name:"type",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.type"}),query:!0,add:!0,tag:"commonSelect",enumData:a},{name:"roleStr",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.roleStr"}),showLen:14,detail:!0},{name:"icon",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.icon"}),columnHidden:!0,query:!1,add:!0,tag:"commonSelect",enumData:i,rules:[]},{name:"hideChildrenInMenu",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.hideChildrenInMenu"}),columnHidden:!0,query:!1,add:!0,tag:"commonRadio",enumData:t,rules:[]},{name:"hideInMenu",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.hideInMenu"}),columnHidden:!0,query:!1,add:!0,tag:"commonRadio",enumData:n,rules:[]},{name:"status",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.status"}),columnHidden:!1,query:!1,add:!1,tag:"commonSelect",enumData:e},{name:"remark",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.remark"}),tag:"textArea",columnHidden:!0,add:!0,rows:3,rules:[]}],relations:[{name:"sysPrivilegeRoles",key:"id",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.sysPrivilegeRoles"}),columnDetails:[{name:"id",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.id"})},{name:"roleId",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.roleId"})},{name:"roleName",title:Object(R["formatMessage"])({id:"app.privilege.sys_privilege.roleName"})}]}]};this.setState({columnSchemas:l})}},{key:"render",value:function(){var e=this,i=this.state,a=i.modalVisible,t=i.selectedRow,n=i.columnSchemas;return O.a.createElement(w["a"],null,O.a.createElement(_["a"],{columnSchemas:n,pageSize:"999",size:"small",onConversionData:this.handleConversionData,onRef:this.handleRef,onRow:function(i){return{onMouseEnter:function(){e.setState({selectedRow:i})}}}},O.a.createElement("span",{id:"QueryCommand"},O.a.createElement(S["a"],null,O.a.createElement(s["a"],{type:"vertical"}),O.a.createElement("a",{onClick:function(){return e.handleRole()}},"Role")))),O.a.createElement(D["a"],{title:"Grant authorization",modalVisible:a,onVisible:this.handleVisible,onRefreshData:this.handleRefreshData,columnSchemas:n,selectedRow:t,keyName:"roleId",relationName:"sysPrivilegeRoles"}),O.a.createElement(r["a"],null))}}]),i}(j["PureComponent"]),n=l))||n);i["default"]=k}}]);