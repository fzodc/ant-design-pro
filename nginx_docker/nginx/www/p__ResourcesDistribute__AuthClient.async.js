(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{NADc:function(e,a,t){"use strict";t.r(a);var n,o,r,i=t("43Yg"),s=t.n(i),c=t("/tCh"),d=t.n(c),l=t("scpF"),u=t.n(l),m=t("O/V9"),p=t.n(m),h=t("8aBX"),f=t.n(h),g=t("uqIC"),v=t.n(g),y=t("QHZv"),M=t("zHco"),b=t("MMK4"),S=t("34ay"),w=(t("Z3A/"),t("pB2J")),R=t("mK77"),k=t.n(R),O=t("LneV"),j=t("vPEI"),T=(n=Object(O["connect"])(function(e){var a=e.resourceModel,t=e.loading;return{resourceModel:a,loading:t.models.resourceModel}}),n((r=function(e){function a(){var e,t;s()(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=u()(this,(e=p()(a)).call.apply(e,[this].concat(o))),t.state={selectedRows:[]},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleSearchDefault=function(){var e=t.props.columnSchemas.tableName;t.handleSearch({tableName:e})},t.handleSearch=function(e){var a=t.props,n=a.dispatch,o=a.onConversionData,r=a.pageSize,i=a.columnSchemas,s=i.userName,c=i.userId,d=i.relationKeyForMasterTable,l=i.masterTableKey,u=a.masterRecord,m=k()({},e,{userName:s,userId:c});r&&(m.pageSize=r),u&&d&&l&&(m[d]=u[l]),n({type:"resourceModel/list",payload:m,onConversionData:o})},t.handleAdd=function(e,a,n){var o=t.props,r=o.dispatch,i=o.columnSchemas,s=i.relationKeyForMasterTable,c=i.masterTableKey,d=i.userId,l=o.masterRecord,u=k()({},e,{userId:d});l&&s&&c&&(u.data.info[s]=l[c]),r({type:"resourceModel/save",payload:u,callback:function(e){var t=e.code,o=e.msg;"200"===t?(w["a"].success("\u63d0\u4ea4\u6210\u529f"),n(a)):w["a"].error("".concat(o))}})},t.handleMenuClick=function(e,a){var n=t.props.dispatch;n({type:"resourceModel/statusBatch",payload:e,callback:function(){a()}})},t}return f()(a,e),d()(a,[{key:"componentWillMount",value:function(){var e=this.props.resourceModel.data;e&&e.list&&(e.list=[])}},{key:"componentDidMount",value:function(){this.handleSearchDefault();var e=this.props.onRef;e&&e(this)}},{key:"render",value:function(){var e=this.props,a=e.resourceModel.data,t=e.loading,n=e.columnSchemas,o=e.onRow,r=e.children,i=e.size,s=e.masterRecord,c=n.key,d=this.state.selectedRows;return v.a.createElement(j["a"],{selectedRows:d,rowKey:c,loading:t,data:a,onSelectRow:this.handleSelectRows,onMenuClick:this.handleMenuClick,onAdd:this.handleAdd,columnSchemas:n,onSearch:this.handleSearch,onRow:o,size:i,masterRecord:s},r)}}]),a}(g["PureComponent"]),o=r))||o),I=T,D=function(e){function a(){var e,t;s()(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=u()(this,(e=p()(a)).call.apply(e,[this].concat(o))),t.state={columnSchemas:{}},t.handleRef=function(e){t.child=e},t}return f()(a,e),d()(a,[{key:"componentWillMount",value:function(){var e=Object(b["d"])("configuration","authorized_grant_types"),a=Object(b["d"])("configuration","scope"),t=Object(S["g"])(),n={userId:t},o={tableName:"oauth_client_details",key:"id",name:"id",userId:t,columnDetails:[{name:"clientId",title:Object(y["formatMessage"])({id:"app.configuration.env.clientId"}),add:!0,query:!0},{name:"resourceIds",title:Object(y["formatMessage"])({id:"app.configuration.env.resourceIds"}),add:!0,tag:"resourceSelect",tagAttr:n,rules:[]},{name:"clientSecret",title:Object(y["formatMessage"])({id:"app.configuration.env.clientSecret"}),add:!0,detailFlag:1},{name:"scope",title:Object(y["formatMessage"])({id:"app.configuration.env.scope"}),add:!0,query:!0,tag:"commonSelect",enumData:a},{name:"authorizedGrantTypes",title:Object(y["formatMessage"])({id:"app.configuration.env.authorizedGrantTypes"}),add:!0,tag:"commonSelect",enumData:e},{name:"accessTokenValidity",title:Object(y["formatMessage"])({id:"app.configuration.env.accessTokenValidity"}),add:!0,rules:[{required:!0,message:Object(y["formatMessage"])({id:"validation.configuration.env.accessTokenValidity"})},{pattern:/^[0-9]*[1-9][0-9]*$/,message:Object(y["formatMessage"])({id:"validation.configuration.env.accessTokenValidity"})}]},{name:"webServerRedirectUri",title:Object(y["formatMessage"])({id:"app.configuration.env.webServerRedirectUri"}),columnHidden:!0,add:!0,rules:[]},{name:"authorities",title:Object(y["formatMessage"])({id:"app.configuration.env.authorities"}),add:!0,rules:[]},{name:"refreshTokenValidity",title:Object(y["formatMessage"])({id:"app.configuration.env.refreshTokenValidity"}),columnHidden:!0,add:!0,rules:[{pattern:/^[0-9]*[1-9][0-9]*$/,message:Object(y["formatMessage"])({id:"validation.configuration.env.refreshTokenValidity"})}]},{name:"additionalInformation",title:Object(y["formatMessage"])({id:"app.configuration.env.additionalInformation"}),columnHidden:!0,add:!0,rules:[]},{name:"autoapprove",title:Object(y["formatMessage"])({id:"app.configuration.env.autoapprove"}),columnHidden:!0,rules:[]},{name:"createTime",title:Object(y["formatMessage"])({id:"app.configuration.env.createTime"}),format:"YYYY-MM-DD HH:mm:ss"}]};this.setState({columnSchemas:o})}},{key:"render",value:function(){var e=this,a=this.state,t=a.selectedRow,n=a.columnSchemas;return console.log(t),v.a.createElement(M["a"],{showBreadcrumb:!0,style:{height:"50px"}},v.a.createElement(I,{columnSchemas:n,onRef:this.handleRef,size:"middle",onRow:function(a){return{onMouseEnter:function(){e.setState({selectedRow:a})}}}}))}}]),a}(g["PureComponent"]);a["default"]=D}}]);