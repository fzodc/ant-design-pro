(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{CTII:function(e,t,o){"use strict";o.r(t);o("sjGl");var r,n,a,s=o("DAkq"),c=o("rXjv"),i=o.n(c),l=o("mK77"),g=o.n(l),p=o("43Yg"),u=o.n(p),d=o("/tCh"),h=o.n(d),y=o("scpF"),v=o.n(y),f=o("O/V9"),K=o.n(f),S=o("8aBX"),O=o.n(S),T=o("uqIC"),k=o.n(T),m=o("LneV"),w=(r=Object(m["connect"])(function(e){var t=e.orgModel,o=e.loading;return{orgList:t.orgList,loading:o.models.orgList}}),r((a=function(e){function t(){var e,o;u()(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return o=v()(this,(e=K()(t)).call.apply(e,[this].concat(n))),o.state={targetKeys:[],selectedKeys:[],oriTargetKeysToOrg:[],apiId:0},o.componentDidMount=function(){var e=o.props,t=e.dispatch,r=e.targetData,n="0,2";t({type:"orgModel/allOrgList",payload:{orgType:n}});var a=r&&r.apiServiceOrgs?r.apiServiceOrgs:[];o.setState({targetKeys:a})},o.handleChange=function(e,t,r){o.setState({targetKeys:e});var n=o.state,a=n.oriTargetKeysToOrg,s=n.apiId;console.log("---oriTargetKeysToOrg:",s,a);var c=[];a.forEach(function(t){var o=e.find(function(e){return e===t.appkey});console.log("targetKey1:",o),o?c.push(t):(console.log("targetKey2:",o),c.push(g()({},t,{act:"D"})))}),console.log("---updateApiServiceOrg1:",s,a),e.forEach(function(e){var t=a.find(function(t){return t.appkey===e});console.log("org1:",t),t||(console.log("org2:",t),c.push({apiId:s,appkey:e,act:"A"}))}),console.log("---updateApiServiceOrg2:",c);var i=o.props.onOrgTransfer;i(c),console.log("targetKeys: ",e),console.log("direction: ",t),console.log("moveKeys: ",r)},o.handleSelectChange=function(e,t){o.setState({selectedKeys:[].concat(i()(e),i()(t))}),console.log("sourceSelectedKeys: ",e),console.log("targetSelectedKeys: ",t)},o.handleScroll=function(e,t){console.log("direction:",e),console.log("target:",t.target)},o.setKey=function(e){return e.appkey},o}return O()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.targetData,o=e.targetData;if(o&&t!==o){var r=o&&o.apiServiceOrgs?o.apiServiceOrgs:[],n=r.map(function(e){return e.appkey});console.log("---oriTargetKeysToOrg:",r,"=======apiid======",o.apiId),this.setState({targetKeys:n,oriTargetKeysToOrg:r,apiId:o.apiId})}}},{key:"render",value:function(){var e=this.props.orgList,t=this.state,o=t.targetKeys,r=t.selectedKeys;return console.log("=====1",o,e),k.a.createElement("div",null,k.a.createElement(s["a"],{showSearch:!0,rowKey:this.setKey,dataSource:e,titles:["Unauthorized org","Authorized org"],targetKeys:o,selectedKeys:r,onChange:this.handleChange,onSelectChange:this.handleSelectChange,onScroll:this.handleScroll,render:function(e){return"".concat(e.orgName,"-").concat(e.appkey)},listStyle:{width:280,height:300}}))}}]),t}(T["PureComponent"]),n=a))||n);t["default"]=w}}]);