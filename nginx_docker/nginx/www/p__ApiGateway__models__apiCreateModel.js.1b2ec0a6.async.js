(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"8YUT":function(e,a,t){"use strict";t.r(a);var r=t("mK77"),n=t.n(r),c=(t("Z3A/"),t("pB2J")),s=t("Ico4"),i=t.n(s),o=t("DWJA"),p=t("8P77"),u=t("DnsZ"),l=u["a"].CALL_POINT;a["default"]={namespace:"apiCreateModel",state:{apiService:{apiServiceBackends:[],apiServiceOrgs:[]}},effects:{apiInfo:i.a.mark(function e(a,t){var r,n,c,s,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=a.callback,c=t.call,s=t.put,console.log(r),e.next=5,c(p["a"],r);case 5:return o=e.sent,console.log(o),e.next=9,s({type:"initData",payload:o});case 9:n&&n(o);case 10:case"end":return e.stop()}},e)}),submitAccess:i.a.mark(function e(a,t){var r,n,c,s;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=a.callback,c=t.call,e.next=4,c(p["h"],r);case 4:s=e.sent,n&&n(s);case 6:case"end":return e.stop()}},e)}),submitStepForm:i.a.mark(function e(a,t){var r,n,s,u,l,d,v;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=a.callback,s=t.call,u=t.put,e.next=4,s(p["h"],r);case 4:if(l=e.sent,1!==r.option){e.next=8;break}return e.next=8,u({type:"saveForAddSubmit",action:{payload:r,response:l}});case 8:if("200"!==l.code){e.next=21;break}if(1!==r.option){e.next=14;break}return e.next=12,u(o["routerRedux"].push("/apiGateway/apiCreate/result"));case 12:e.next=19;break;case 14:return e.next=16,u({type:"updateData",payload:l});case 16:d=l.msg||"success.",console.log("==",n,d),n?n(l):c["a"].success(d,10);case 19:e.next=23;break;case 21:v=l.msg||"\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\u3002",c["a"].error(v,10);case 23:case"end":return e.stop()}},e)}),submitApiDoc:i.a.mark(function e(a,t){var r,n,s,o,u,l,d;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=a.callback,s=t.call,o=t.put,console.log("payload in submitApiDoc model---:",JSON.stringify(r)),e.next=5,s(p["h"],r);case 5:if(u=e.sent,console.log("response in submitApiDoc model---:",u),"200"!==u.code){e.next=14;break}return e.next=10,o({type:"updateData",payload:u});case 10:l=u.msg||"success.",n?n(u):c["a"].success(l),e.next=16;break;case 14:d=u.msg||"\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\u3002",c["a"].error(d);case 16:case"end":return e.stop()}},e)})},reducers:{saveStepFormData:function(e,a){var t=a.payload,r=n()({},e.apiService,t);return n()({},e,{apiService:r})},updateData:function(e,a){var t=a.payload;console.log("updateData:",t);var r=n()({},e.apiService,t.data);return n()({},e,{apiService:r})},saveForAddSubmit:function(e,a){var t=a.action;console.log("action:",t);var r=t.response&&"200"===t.response.code?n()({},e.apiService,t.response.data):n()({},e.apiService,t.payload.data.info.apiService);return n()({},e,{apiService:r})},initDataForAdd:function(e){var a={serviceType:"1",apiType:"1",pathPrefix:"/rest/",apiServiceBackends:[{serviceType:"1",socketTimeout:3e4,connectTimeout:3e4,serviceSeq:1,backendType:l}],callType:"1"};return n()({},e,{apiService:a})},initData:function(e,a){var t=a.payload,r=n()({},t.data);return n()({},e,{apiService:r})}}}}}]);