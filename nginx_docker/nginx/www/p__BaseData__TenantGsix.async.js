(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[35],{r8Gr:function(e,t,n){"use strict";n.r(t);n("ssvk");var a,i,r,c=n("Qo4C"),o=n("43Yg"),l=n.n(o),u=n("/tCh"),s=n.n(u),d=n("scpF"),p=n.n(d),f=n("O/V9"),h=n.n(f),g=n("8aBX"),v=n.n(g),m=n("uqIC"),y=n.n(m),b=n("7xWr"),w=n.n(b),k=n("LneV"),C=n("zHco"),E=n("34ay"),D=n("jCnN"),N=n.n(D),S=n("M3vg"),x=n.n(S);function G(e){var t=e.data,n=void 0===t?[]:t,a=e.onDetail,i=y.a.useRef(null),r=null;return Object(m["useEffect"])(function(){r||(r=new x.a.Graph({container:N.a.findDOMNode(i.current),width:window.innerWidth,height:window.innerHeight,pixelRatio:2,linkCenter:!0,modes:{default:["drag-canvas"]},layout:{type:"circular",linkDistance:5,preventOverlap:!0,radius:300},defaultNode:{labelCfg:{style:{fill:"#000000A6",fontSize:15},position:"center"},style:{stroke:"#72CC4A",width:50}},defaultEdge:{color:"blue"}})),r.data(n),r.on("node:click",function(e){if(e.item._cfg){var t=e.item._cfg||{},n=t.id;a(n)}}),r.render()},[]),y.a.createElement("div",{ref:i}," ")}var I=(a=Object(k["connect"])(function(e){var t=e.uniComp,n=e.loading;return{uniComp:t,loading:n.models.uniComp}}),a((r=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(i))),n.state={tenantList:[]},n.onDetail=function(e){w.a.push({pathname:"/baseData/orgGsix",state:{id:e}})},n.getPayloadGix=function(){var e=n.state.tenantList,t=[],a=[];e&&e.forEach(function(e,n){var i={id:"".concat(e.orgId),shape:"circle",label:e.orgName};if(t){var r=t.filter(function(e){return e.id===i.id});0===r.length&&t.push(i)}else t.push(i);var c=e.callSystemId,o=null,l="blue";c?o={id:"".concat(e.callSystemId),shape:"circle",label:"".concat(e.callSystemName)}:(o={id:"u".concat(n),shape:"circle",label:"".concat(e.callSystemName,"-").concat(e.appkey)},l="red");var u=t.filter(function(e){return e.id===o.id});0===u.length&&t.push(o);var s={source:"".concat(e.orgId),target:"".concat(o.id),color:l};a.push(s)});var i={nodes:t,edges:a};return console.log(i),0===t.length?"":y.a.createElement(G,{data:i,onDetail:n.onDetail})},n.getPayloadGix1=function(){var e=n.state.tenantList,t=[],a=[];e&&e.forEach(function(e){var n={id:"".concat(e.id),shape:"circle",label:e.orgName};if(t){var i=t.filter(function(e){return e.id===n.id});0===i.length&&t.push(n)}else t.push(n);var r=e.relatedSystems;r&&r.forEach(function(n){var i={source:"".concat(e.id),target:"".concat(n.appkey)},r={id:"".concat(n.appkey),shape:"circle",label:n.systemName},c=t.filter(function(e){return e.id===n.id});0===c.length&&t.push(r),a.push(i)})});var i={nodes:t,edges:a};return 0===t.length?"":y.a.createElement(G,{data:i,onDetail:n.onDetail})},n}return v()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this,t=Object(E["g"])(),n=this.props.dispatch,a={userId:t};n({type:"uniComp/tenantView",payload:a,callback:function(t){var n=t.data;e.setState({tenantList:n})}})}},{key:"render",value:function(){var e=this.getPayloadGix();return y.a.createElement(C["a"],null,y.a.createElement(c["a"],{bordered:!1},e))}}]),t}(m["PureComponent"]),i=r))||i);t["default"]=I}}]);